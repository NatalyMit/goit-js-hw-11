{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst formEl = document.querySelector('.form-seach');\nconst galleryEl = document.querySelector('.gallery-images');\n\nconst API_KEY = '41909271-8b5dab2225a1cd5a9757159a5';\n\nfunction checkResponse(res) {\n  if (!res.ok) {\n    throw new Error(res.status);\n  }\n  return res.json();\n}\n\nfunction fetchGallery(images) {\n  return fetch(\n    'https://pixabay.com/api/?key=' +\n      API_KEY +\n      '&q=' +\n      images +\n      '&image_type=photo&orientation=horizontal&safesearch=true'\n  ).then(checkResponse);\n}\nformEl.addEventListener('submit', handleSearch);\n\nfunction handleSearch(event) {\n  event.preventDefault();\n  const form = event.currentTarget;\n  const inputValue = form.elements.query.value;\n\n  console.log(inputValue);\n\n  fetchGallery(inputValue)\n    .then(data => {\n      //   console.log(data);\n      const hits = data.hits;\n      //   console.log(hits);\n\n      let markup = '';\n      for (const hit of hits) {\n        // console.log(hit);\n        markup += createGallery(hit);\n      }\n      console.log(markup);\n      galleryEl.innerHTML = markup;\n    })\n    .catch(onFetchError)\n    .finally(() => form.reset());\n}\n\nfunction createGallery({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<li class = \"list-item\">\n    <a href=\"${webformatURL}\"><img src = \"${largeImageURL}\" alt = \"${tags}\" ></a>\n    <div>${likes}</div>\n    <div>${views}</div>\n    <div>${comments}</div>\n    <div>${downloads}</div>\n    </li>`;\n}\n//   const makeGallery = images\n//     .map(\n//       ({ url, alt }) =>\n//         `<li class = \"list-item\"><a href=\"\"\n//         <img src = \"${url}\" alt = \"${alt}\" width = \"300\" ></a></li>`\n//     )\n//     .join('');\n//   console.log(makeGallery);\n//   const markup = ``;\n//   galleryEl.insertAdjacentHTML('beforeend', makeGallery);\n// }\n\nfunction onFetchError(error) {\n  alert('Упс, щось пішло не так і ми не знайшли ваше зображення');\n  console.error(error);\n}\n"],"names":["formEl","galleryEl","API_KEY","checkResponse","res","fetchGallery","images","handleSearch","event","form","inputValue","data","hits","markup","hit","createGallery","onFetchError","webformatURL","largeImageURL","tags","likes","views","comments","downloads","error"],"mappings":"0uBAMA,MAAMA,EAAS,SAAS,cAAc,aAAa,EAC7CC,EAAY,SAAS,cAAc,iBAAiB,EAEpDC,EAAU,qCAEhB,SAASC,EAAcC,EAAK,CAC1B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACb,CAEA,SAASC,EAAaC,EAAQ,CAC5B,OAAO,MACL,gCACEJ,EACA,MACAI,EACA,0DACN,EAAI,KAAKH,CAAa,CACtB,CACAH,EAAO,iBAAiB,SAAUO,CAAY,EAE9C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAOD,EAAM,cACbE,EAAaD,EAAK,SAAS,MAAM,MAEvC,QAAQ,IAAIC,CAAU,EAEtBL,EAAaK,CAAU,EACpB,KAAKC,GAAQ,CAEZ,MAAMC,EAAOD,EAAK,KAGlB,IAAIE,EAAS,GACb,UAAWC,KAAOF,EAEhBC,GAAUE,EAAcD,CAAG,EAE7B,QAAQ,IAAID,CAAM,EAClBZ,EAAU,UAAYY,CAC5B,CAAK,EACA,MAAMG,CAAY,EAClB,QAAQ,IAAMP,EAAK,MAAK,CAAE,CAC/B,CAEA,SAASM,EAAc,CACrB,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,eACMN,kBAA6BC,aAAyBC;AAAA,WAC1DC;AAAA,WACAC;AAAA,WACAC;AAAA,WACAC;AAAA,UAEX,CAaA,SAASP,EAAaQ,EAAO,CAC3B,MAAM,wDAAwD,EAC9D,QAAQ,MAAMA,CAAK,CACrB"}